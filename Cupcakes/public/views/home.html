<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Whipped</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css" media="screen" href="../styles/style.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"
    integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.0/dist/jquery.validate.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.0/jquery.validate.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  <!-- <script src="../public/js/home.js"></script> -->
</head>


<body background="https://b-ssl.duitang.com/uploads/item/201408/19/20140819145404_fUMUT.thumb.1400_0.jpeg">
    
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light light-blue bg-light fixed-top">
    <a class="navbar-brand" href="home.html"><i class="fas fa-home fa-lg"> Whipped</i></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="../home">Home <span class="sr-only"></span></a>
        </li>
        </li>
      </ul>
    </div>
  </nav>


<!-- Main Layout -->
<main>
  <!-- Carousel -->
  <div class="container">
    <div class="password-error"></div>
    <div id="cupcakeIndicators" class="carousel slide" data-ride="carousel">
      <ol class="carousel-indicators">
        <li data-target="#cupcakeIndicators" data-slide-to="0" class="active"></li>
        <li data-target="#cupcakeIndicators" data-slide-to="1"></li>
        <li data-target="#cupcakeIndicators" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active">

          <img  class='img-fluid w-100' src="https://fdb70fb0c48d25cdd3b7-a2b3755b2f276d4912261bdd78803625.ssl.cf1.rackcdn.com/Sweet-Shot1394.jpg" alt="First Slide">
          <div class="carousel-caption d-block">
            <h3>Whipped</h3>
            <p>Family own since 2019</p>
            <button type="button" class="btn btn-light" id="sign-in">Sign-in</button>
            <button type="button" class="btn btn-light" id="sign-up">Sign-up</button>
          </div>
        </div>
        <div class="carousel-item">
          <img  class='img-fluid w-100' src="https://static1.squarespace.com/static/5a53d197cf81e0089f65e2bc/5af078602b6a28ab60d88ccb/5af0789070a6adfccac33b5d/1525709015321/i-dream-jeanne-cakes-cupcakes-relive-photography-fb-01.jpg" alt="Second Slide">
          <div class="carousel-caption d-block">
            <h3>Chicago is home</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce ac faucibus felis, non consequat ligula.
              Praesent tincidunt metus dui, et feugiat purus faucibus sit amet. </p>
          </div>
        </div>
        <div class="carousel-item">
          <img  class='img-fluid w-100' src="http://staceystewartphotography.com/wp-content/uploads/2016/01/Ottawa-wedding-photographer-Stacey-Stewart_0302.jpg" alt="Third Slide">
          <div class="carousel-caption d-block">
            <p>We take pride on knowing we select our products from local farms</p>
            <h3>Hand Made, Like grandma used to make</h3>
          </div>
        </div>
      </div>
      <a class="carousel-control-prev" href="#cupcakeIndicators" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#cupcakeIndicators" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <!-- Jumbotron -->
  <!-- <div class="container">
    <div class="jumbotron">
      <h1 class="company-name text-center display-4">Whipped </h1>
      <p class="lead text-center">Ready to Order? Sign in or Sign up below</p>
      <hr class="my-4">
      <p class="lead text-center">
        <a class="btn btn-primary btn-lg" id="sign-in" role="button">Sign in</a>
        <a class="btn btn-primary btn-lg" id="sign-up" role="button">Sign up</a>
      </p>
    </div> -->


    <!-- Cupcake Inventory -->
    <div class="container">
      <div class="row">
        <div class="col">
          <div class="id"></div>
          <div class="search-bar">
            <input class="form-control mr-sm-2" id="search" type="search" placeholder="Search" aria-label="Search">
          </div>
          <br>
          <div class="row">
            <div class="col">
              <div class="card " id="myDIV" style="width: 18rem;">

                <img class="card-img-top" href="order.html" src="https://sallysbakingaddiction.com/wp-content/uploads/2017/06/moist-chocolate-cupcakes-5.jpg" alt="Double Chocolate"
                  name="Double Chocolate">
                <div class="card-body">
                  <a href="/order">
                    <h5 class="card-title">Double Chocolate</h5>
                  </a>
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                    card's
                    content.</p>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card" id="myDIV" style="width: 18rem;">
                <img class="card-img-top" href="order.html" src="https://www.bakedbyrachel.com/wp-content/uploads/2016/07/choccookiescreamcupcakes1_bakedbyrachel.jpg" alt="Oreo Cupcake">
                <div class="card-body">
                  <a href="order.html">
                    <h5 class="card-title">Oreo </h5>
                  </a>
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                    card's
                    content.</p>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card" id="myDIV" style="width: 18rem;">
                <img class="card-img-top"
                  src="https://therecipecritic.com/wp-content/uploads/2017/01/RedVelvetCupcakes2.jpg"
                  alt="Red Velvet Cupcake">
                <div class="card-body" id="myDIV">
                    <a href="order.html">
                      <h5 class="card-title">Red Velvet</h5>
                    </a>
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                    card's
                    content.</p>
                </div>
              </div>
            </div>
          </div>
<br>
<br>
          <div class="row">
            <div class="col">
              <div class="card" id="myDIV" style="width: 18rem;">
                <img class="card-img-top"
                  src="https://www.lifeloveandsugar.com/wp-content/uploads/2015/08/Caramel_Apple_Cupcakes2.jpg"
                  alt="Caramel Apple Cupcake">
                <div class="card-body" id="myDIV">
                    <a href="order.html">
                      <h5 class="card-title">Caramel Apple Cupcake</h5>
                    </a>
                  
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                    card's
                    content.</p>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card" id="myDIV" style="width: 18rem;">
                <img class="card-img-top"
                  src="https://bakerbynature.com/wp-content/uploads/2016/06/untitled-30-of-63-3.jpg"
                  alt="Strawberry Cupcake">
                <div class="card-body" id="myDIV">
                    <a href="order.html">
                      <h5 class="card-title">Strawberry Cupcake</h5>
                    </a>
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                    card's
                    content.</p>
                </div>
              </div>
            </div>
            <div class="col">
              <div class="card" id="myDIV" style="width: 18rem;">
                <img class="card-img-top"
                  src="https://houseofnasheats.com/wp-content/uploads/2017/08/Smores-Cupcakes-2.jpg"
                  alt="S'more Cupcake">
                <div class="card-body" id="myDIV">
                    <a href="order.html">
                        <h5 class="card-title" id="cupcake">S'more Cupcake</h5>
                    </a>
                  <p class="card-text">Some quick example text to build on the card title and make up the bulk of the
                    card's
                    content.</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal for sign-in  -->
        <div class="modal fade" id="modal-sign-in" role="dialog" aria-labelledby="modalCenterTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">

                <!-- Title for Modal -->
                <h5 class="modal-title text-center" id="modalTitle">Please input your information below to sign up</h5>

                <!-- Close ("X") button for modal -->
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>

              <!-- Sign in form -->
              <div class="modal-body">
                <form class="cmxform" id="form-sign-in" method="get" action="">
                  <fieldset>
                    <label for="email"></label>
                    <input id="email-sign-in" type="email" name="email-sign-in" placeholder="Email" required>
                    </p>
                    <p>
                      <label for="password"></label>
                      <input id="password-sign-in" type="password" name="password-sign-in" placeholder="Password"
                        required>
                    </p>
                    <p>
                      <div class="sign-in-error"></div>
                      <input class="submit-sign-in" type="submit" value="Sign me in!">
                    </p>
                  </fieldset>
                </form>
              </div>
            </div>
          </div>
        </div>

        <!-- Modal for sign-up  -->
        <div class="modal fade" id="modal-sign-up" role="dialog" aria-labelledby="modalCenterTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">

                <!-- Title for Modal -->
                <h5 class="modal-title text-center" id="modalTitle">Please input your information below to sign up</h5>

                <!-- Close ("X") button for modal -->
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>

              <!-- Sign up form -->
              <div class="modal-body">
                <form class="cmxform" id="form-sign-up" method="get" action="">
                  <fieldset>
                    <input class="form-control" id="fname" name="fname" minlength="2" type="text"
                      placeholder="First Name" required>
                    <br>
                    <input class="form-control" id="lname" name="lname" minlength="2" type="text"
                      placeholder="Last Name" required>
                    <br>
                    <input class="form-control" id="email-sign-up" type="email" name="email-sign-up" placeholder="Email"
                      required>
                    <br>
                    <input class="form-control" id="password-sign-up" type="password" name="password-sign-up"
                      placeholder="Password" required>
                    <br>
                    <input class="form-control" id="confirm-sign-up" type="password" name="confirm-sign-up"
                      placeholder="Re-Enter Password" required>
                    <br>
                    <input class="submit-sign-up" type="submit" value="Sign me up and Sign me in!">
                  </fieldset>
                </form>
              </div>
            </div>
          </div>
        </div>
  </main>
  <!-- Main Layout -->

  <!-- Footer -->
  <footer>

  </footer>
  <!-- Footer -->
</body>

</html>

<script>


  $(document).ready(function () {
    //HOW CAN WE DISPLAY THE TITLE, BODY, AND IMAGE AFTER SEARCH????
    $("#search").on("keyup", function (event) {
      event.preventDefault();
      var value = $(this)
        .val()
        .toLowerCase();
      console.log(value);
      $(".card *").filter(function () {
        $(this).toggle(
          $(this)
            .html()
            .toLowerCase()
            .indexOf(value) > -1
        );
      });
    });

    // Modal appears when user clicks sign-in
    $("#sign-in").on("click", function (event) {
      event.preventDefault();
      $("#modal-sign-in").modal("show");
    });

    $(".submit-sign-in").click(function (event) {
      event.preventDefault();
      var emailSignIn = document.getElementById("email-sign-in").value
      var passwordSignIn = document.getElementById("password-sign-in").value
      var customerSignIn = {
        email: emailSignIn,
        password: passwordSignIn
      };

      loginCustomer(customerSignIn.email, customerSignIn.password)
      // emailSignIn.val("");
      // passwordSignIn.val("");
    });

    function loginCustomer(email, password) {
      $.post("/api/login", {
        email: email,
        password: password
      }).then(function (data) {
        window.location.replace(data);
        // If there's an error, log the error
      })
    }

    // Modal appears when user clicks sign-up
    $("#sign-up").on("click", function (event) {
      event.preventDefault();
      $("#modal-sign-up").modal("show");

      //When a user clicks the submit button the application captures the values of the form
      $(".submit-sign-up").on("click", function () {
        var password = $("#password-sign-up").val();
        var confirm = $("#confirm-sign-up").val();

        //checks to see if password and confirmation password matches.
        if (password !== confirm) {
          $(".password-error").html("Passwords do not match.");
          return false;
        }
        var firstName = $("#fname")
          .val()
          .trim();
        var lastName = $("#lname")
          .val()
          .trim();
        var email = $("#email-sign-up")
          .val()
          .trim();

        // Application records value for new customer
        var newCustomer = {
          firstName: firstName,
          lastName: lastName,
          email: email,
          password: password,
          confirm: confirm
        };
        // console.log(newCustomer);
        console.log(newCustomer.id)
        // console.log(Customers.dataValues.id);
        //The application submits new customers
        // $.get("/duplicateCheck", function (email) {
        //   for (i = 0; i < email.length; i++) {
        //     if (email[i] === newCustomer.email) {
        //       // $(".password-error").html("There is a duplicate");
        //       return false;
        //     }
        //     else {
        $.post("/api/customers", newCustomer);
      })
//   window.location.href = "/order?customers_id=" + newCustomer.id;    
      });
     
  });

</script>